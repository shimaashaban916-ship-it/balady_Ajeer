<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø¹Ù‚ÙˆØ¯ Ø£Ø¬ÙŠØ±</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <!-- Bootstrap 5.3 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <!-- SweetAlert2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/shared/css/style.css">
    <style>
        .stats-card-icon {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            font-size: 1.5rem;
        }

        .contract-card .card-body {
            position: relative;
            z-index: 1;
        }

        .contract-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0) 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .contract-card:hover::before {
            opacity: 1;
        }

        .contract-card.blocked .card-body {
            opacity: 0.7;
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="premium-navbar navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center gap-2" href="/shared/index.html">
                <div class="brand-logo-small bg-white rounded-3 d-flex align-items-center justify-content-center"
                    style="width: 40px; height: 40px; border: 1px solid rgba(0,0,0,0.05); overflow: hidden;">
                    <img src="/shared/img/logo_ajeer_new.png" alt="Ajeer" style="height: 24px; width: auto;">
                </div>
                <span class="fw-bold text-slate-900">Ù†Ø¸Ø§Ù… Ø£Ø¬ÙŠØ±</span>
            </a>
            <button class="navbar-toggler border-0 shadow-none" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                </ul>
                <div class="d-flex align-items-center gap-3">
                </div>
            </div>
        </div>
    </nav>

    <div class="container py-4 py-md-5">
        <!-- Header Section -->
        <div class="row align-items-center mb-5">
            <div class="col-md-6 mb-3 mb-md-0">
                <div id="greetingMessage" class="greeting-message mb-2">
                    <span class="greeting-icon fs-4"></span>
                    <span class="greeting-text h4 fw-bold text-slate-800"></span>
                </div>
                <p class="text-muted mb-0">Ø¥Ù„ÙŠÙƒ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù‚ÙˆØ¯ ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</p>
            </div>
            <div class="col-md-6 d-flex gap-2 justify-content-md-end">
                <a href="/ajeer/form.html" class="btn btn-primary shadow-lg">
                    <i class="bi bi-plus-lg"></i>
                    <span>Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯</span>
                </a>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="row g-3 mb-5">
            <div class="col-6 col-md-3">
                <div class="stat-card">
                    <div class="stat-icon text-primary bg-primary-50">
                        <i class="bi bi-files"></i>
                    </div>
                    <div class="stat-value" id="stat-total">0</div>
                    <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù‚ÙˆØ¯</div>
                </div>
            </div>
            <div class="col-6 col-md-3">
                <div class="stat-card">
                    <div class="stat-icon text-success bg-success-soft">
                        <i class="bi bi-check-circle"></i>
                    </div>
                    <div class="stat-value" id="stat-active">0</div>
                    <div class="stat-label">Ø¹Ù‚ÙˆØ¯ Ø³Ø§Ø±ÙŠØ©</div>
                </div>
            </div>
            <div class="col-6 col-md-3">
                <div class="stat-card">
                    <div class="stat-icon text-primary bg-primary-50">
                        <i class="bi bi-file-text"></i>
                    </div>
                    <div class="stat-value" id="stat-ajeer">0</div>
                    <div class="stat-label">ØªØ¹Ø§Ù‚Ø¯ Ø£Ø¬ÙŠØ±</div>
                </div>
            </div>
            <div class="col-6 col-md-3">
                <div class="stat-card">
                    <div class="stat-icon text-purple bg-purple-soft">
                        <i class="bi bi-arrow-left-right"></i>
                    </div>
                    <div class="stat-value" id="stat-loan">0</div>
                    <div class="stat-label">ØªØ¹Ø§Ù‚Ø¯ Ø¥Ø¹Ø§Ø±Ø©</div>
                </div>
            </div>
        </div>

        <!-- Search & Filters: Elite UI Breakthrough -->
        <div class="elite-search-area mb-5">
            <div class="glass-surface p-4 rounded-5 border-0 shadow-sm"
                style="background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.8) !important;">
                <div class="row g-4 align-items-center">
                    <div class="col-12 col-xl-7">
                        <div class="input-group input-group-lg bg-white rounded-4 shadow-sm overflow-hidden border">
                            <span class="input-group-text bg-white border-0 ps-4">
                                <i class="bi bi-search text-slate-400"></i>
                            </span>
                            <input type="text" class="form-control border-0 py-3 text-slate-800" id="searchInput"
                                placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ù…Ù„ Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©..." style="font-size: 1rem;">
                        </div>
                    </div>
                    <div class="col-12 col-xl-5">
                        <div class="d-flex gap-2">
                            <div class="flex-grow-1">
                                <select class="form-select form-select-lg bg-white rounded-4 shadow-sm border py-3"
                                    id="filterType" style="font-size: 1rem;">
                                    <option value="">ÙƒÙ„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¹Ù‚ÙˆØ¯</option>
                                    <option value="ØªØ¹Ø§Ù‚Ø¯ Ø£Ø¬ÙŠØ±">ØªØ¹Ø§Ù‚Ø¯ Ø£Ø¬ÙŠØ±</option>
                                    <option value="ØªØ¹Ø§Ù‚Ø¯ Ø¥Ø¹Ø§Ø±Ø©">ØªØ¹Ø§Ù‚Ø¯ Ø¥Ø¹Ø§Ø±Ø©</option>
                                </select>
                            </div>
                            <button class="btn btn-primary btn-lg rounded-4 shadow-brand px-4" onclick="applyFilters()"
                                style="padding-top: 14px; padding-bottom: 14px;">
                                <i class="bi bi-funnel"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contracts Display Area -->
        <div id="contractsContent">
            <div class="row g-4" id="contractsGrid">
                <!-- Cards will be rendered here via JS -->
            </div>

            <!-- Empty State: Elite Redesign -->
            <div id="emptyState" class="text-center py-5 d-none animate-fade-up">
                <div class="mb-4">
                    <div class="avatar avatar-xxl bg-white text-slate-200 mx-auto shadow-sm d-flex align-items-center justify-content-center rounded-circle"
                        style="width: 120px; height: 120px; font-size: 3.5rem; border: 1px solid #f1f5f9;">
                        <i class="bi bi-inbox-fill"></i>
                    </div>
                </div>
                <h3 class="fw-bold text-slate-800 mb-2">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³Ø¬Ù„Ø§Øª</h3>
                <p class="text-slate-500 mb-4 fs-5">Ù„Ù… Ù†ØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙŠ Ø¹Ù‚ÙˆØ¯ ØªØ·Ø§Ø¨Ù‚ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø­Ø§Ù„ÙŠØ©.</p>
                <a href="/ajeer/form.html" class="btn btn-primary btn-lg rounded-pill px-5 shadow-brand">
                    <i class="bi bi-plus-lg me-2"></i> Ø¥Ø¶Ø§ÙØ© Ø£ÙˆÙ„ Ø¹Ù‚Ø¯
                </a>
            </div>
        </div>

        <div class="text-center text-muted small mt-5">
            &copy; 2024 Ù†Ø¸Ø§Ù… Ø£Ø¬ÙŠØ± Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù‚ÙˆØ¯ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©
        </div>
    </div>

    <!-- FAB for Mobile -->
    <a href="/ajeer/form.html"
        class="btn btn-primary rounded-circle shadow-lg d-md-none position-fixed bottom-0 start-0 m-3 d-flex align-items-center justify-content-center"
        style="width: 56px; height: 56px; z-index: 100;">
        <i class="bi bi-plus-lg fs-4"></i>
    </a>

    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="/shared/js/supabase-config.js"></script>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="/shared/js/auth.js"></script>
    <script src="/ajeer/app.js"></script>
    <script src="/shared/js/sample-data.js"></script>
    <script src="/shared/js/reminder.js"></script>
    <script>
        // Greeting based on time of day
        function setGreeting() {
            const hour = new Date().getHours();
            const greetingEl = document.getElementById('greetingMessage');
            const iconEl = greetingEl.querySelector('.greeting-icon');
            const textEl = greetingEl.querySelector('.greeting-text');

            let greeting, icon, className;

            if (hour >= 5 && hour < 12) {
                // Morning (5 AM - 12 PM)
                greeting = 'ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ±';
                icon = 'â˜€ï¸';
                className = 'morning';
            } else if (hour >= 12 && hour < 17) {
                // Afternoon (12 PM - 5 PM)
                greeting = 'Ù…Ø³Ø§Ø¡ Ø§Ù„ÙˆØ±Ø¯';
                icon = 'ğŸŒ¸';
                className = 'evening';
            } else if (hour >= 17 && hour < 21) {
                // Evening (5 PM - 9 PM)
                greeting = 'Ù…Ø³Ø§Ø¡ Ø§Ù„ÙˆØ±Ø¯';
                icon = 'ğŸŒ¹';
                className = 'evening';
            } else {
                // Night (9 PM - 5 AM)
                greeting = 'Ù…Ø³Ø§Ø¡ Ø§Ù„Ù†ÙˆØ±';
                icon = 'ğŸŒ™';
                className = 'night';
            }

            iconEl.textContent = icon;
            textEl.textContent = greeting;
            // greetingEl.className = 'greeting-message mb-2 ' + className; 
        }

        document.addEventListener('DOMContentLoaded', () => {
            setGreeting();
            loadDashboard();

            // Search Filter with debounce
            let searchTimeout;
            document.getElementById('searchInput').addEventListener('input', () => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(applyFilters, 300);
            });

            // Type Filter
            document.getElementById('filterType').addEventListener('change', () => {
                applyFilters();
            });

            // Navbar scroll effect
            window.addEventListener('scroll', () => {
                const navbar = document.querySelector('.navbar');
                if (window.scrollY > 10) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            });

            // Handle window resize
            window.addEventListener('resize', () => {
                // applyFilters(); 
            });
        });

        function applyFilters() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const typeFilter = document.getElementById('filterType').value;
            renderCards(searchTerm, typeFilter);
        }

        async function loadDashboard() {
            await renderCards();
            await updateStats();
        }

        async function renderCards(searchTerm = '', typeFilter = '') {
            const contracts = await StorageManager.getContracts();
            const grid = document.getElementById('contractsGrid');
            const emptyState = document.getElementById('emptyState');

            grid.innerHTML = '';

            const filtered = contracts.filter(c => {
                const matchesSearch = !searchTerm ||
                    (c.workerName && c.workerName.toLowerCase().includes(searchTerm)) ||
                    (c.workerIdNumber && c.workerIdNumber.toLowerCase().includes(searchTerm));
                const contractType = c.contractType || 'ØªØ¹Ø§Ù‚Ø¯ Ø£Ø¬ÙŠØ±';
                const matchesType = !typeFilter || contractType === typeFilter;
                return matchesSearch && matchesType;
            });

            if (filtered.length === 0) {
                grid.classList.add('d-none');
                emptyState.classList.remove('d-none');
                return;
            }

            grid.classList.remove('d-none');
            emptyState.classList.add('d-none');

            filtered.forEach((contract, index) => {
                const isBlocked = contract.isBlocked || false;
                const contractType = contract.contractType || 'ØªØ¹Ø§Ù‚Ø¯ Ø£Ø¬ÙŠØ±';
                const isAjeer = contractType === 'ØªØ¹Ø§Ù‚Ø¯ Ø£Ø¬ÙŠØ±';

                // Color Themes
                const themeColor = isAjeer ? 'primary' : 'info';
                const iconClass = isAjeer ? 'bi-file-earmark-text' : 'bi-arrow-left-right';

                const col = document.createElement('div');
                col.className = 'col-12 col-md-6 col-lg-4 d-flex pb-4';
                col.style.animation = `fadeInUp 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) ${index * 0.1}s forwards`;
                col.style.opacity = '0';

                col.innerHTML = `
                    <div class="card elite-card w-100 border-0">
                        <div class="card-inner">
                            
                            <!-- Header: Badges -->
                            <div class="d-flex justify-content-between align-items-center mb-4">
                                <span class="elite-badge bg-${themeColor}-soft text-${themeColor}">
                                    ${contractType}
                                </span>
                                ${isBlocked
                        ? '<span class="elite-badge bg-danger-soft text-danger">Ù…ÙˆÙ‚ÙˆÙ</span>'
                        : '<span class="elite-badge bg-success-soft text-success">Ù†Ø´Ø·</span>'
                    }
                            </div>

                            <!-- Identity: Centered & Sophisticated -->
                            <div class="text-center mb-5">
                                <div class="avatar-wrapper">
                                    <div class="avatar-ring"></div>
                                    <div class="avatar avatar-xl bg-white rounded-circle d-flex align-items-center justify-content-center mx-auto shadow-sm" style="width: 100%; height: 100%; border: 6px solid #f8fafc;">
                                        <i class="bi bi-person-fill text-slate-300" style="font-size: 3.5rem;"></i>
                                    </div>
                                    ${!isBlocked ? '<div class="position-absolute translate-middle p-1 bg-white rounded-circle shadow border" style="bottom: 5%; left: 15%; width: 32px; height: 32px; z-index: 2;"><i class="bi bi-patch-check-fill text-primary" style="font-size: 20px; position: relative; top: -5px;"></i></div>' : ''}
                                </div>
                                
                                <h4 class="fw-bold text-slate-900 mb-2" style="font-size: 1.5rem; letter-spacing: -0.02em;">${contract.workerName || '-'}</h4>
                                <span class="elite-id-badge">
                                    <i class="bi bi-hash me-1"></i>${contract.contractNumber || '-'}
                                </span>
                            </div>

                            <!-- Data Grid: Modular & Clean -->
                            <div class="info-grid">
                                <div class="info-item">
                                    <div class="info-icon">
                                        <i class="bi bi-building"></i>
                                    </div>
                                    <div class="overflow-hidden">
                                        <small class="d-block text-slate-400 fw-bold mb-1" style="font-size: 0.65rem; text-transform: uppercase;">Ø§Ù„Ù…Ù†Ø´Ø£Ø© Ø§Ù„Ù…Ø³ØªÙÙŠØ¯Ø©</small>
                                        <div class="fw-bold text-slate-800 text-truncate">${contract.beneficiaryEntity || '-'}</div>
                                    </div>
                                </div>

                                <div class="d-flex gap-3 mt-1">
                                    <div class="info-item flex-grow-1 mb-0 p-3">
                                        <div class="text-center w-100">
                                            <small class="d-block text-slate-400 fw-bold mb-1" style="font-size: 0.65rem;">Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¹Ù‚Ø¯</small>
                                            <div class="fw-bold text-slate-700 small">${formatDate(contract.startDate)}</div>
                                        </div>
                                    </div>
                                    <div class="info-item flex-grow-1 mb-0 p-3">
                                        <div class="text-center w-100">
                                            <small class="d-block text-slate-400 fw-bold mb-1" style="font-size: 0.65rem;">Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¹Ù‚Ø¯</small>
                                            <div class="fw-bold text-slate-700 small">${formatDate(contract.endDate)}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Actions: Elite Focal Point & Micro-Actions -->
                            <div class="d-flex flex-column gap-3 mt-4">
                                <a href="/ajeer/contract.html?id=${contract.id}" class="btn elite-action-btn d-flex align-items-center justify-content-center gap-2">
                                    <span>Ù…Ø´Ø§Ù‡Ø¯Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù‚Ø¯ ÙƒØ§Ù…Ù„Ø©</span>
                                    <i class="bi bi-arrow-left"></i>
                                </a>
                                
                                <div class="d-flex justify-content-center gap-3">
                                    <a href="/ajeer/form.html?id=${contract.id}" class="micro-btn micro-btn-blue shadow-sm" data-bs-toggle="tooltip" title="ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª">
                                        <i class="bi bi-pencil-square"></i>
                                    </a>
                                    
                                    <button onclick="toggleBlock('${contract.id}', ${isBlocked})" class="micro-btn ${isBlocked ? 'micro-btn-emerald' : 'micro-btn-amber'} shadow-sm" data-bs-toggle="tooltip" title="${isBlocked ? 'ØªÙØ¹ÙŠÙ„' : 'Ø¥ÙŠÙ‚Ø§Ù'}">
                                        <i class="bi ${isBlocked ? 'bi-unlock' : 'bi-lock'}"></i>
                                    </button>
                                    
                                    <button onclick="confirmDelete('${contract.id}')" class="micro-btn micro-btn-rose shadow-sm" data-bs-toggle="tooltip" title="Ø­Ø°Ù Ù†Ù‡Ø§Ø¦ÙŠ">
                                        <i class="bi bi-trash3"></i>
                                    </button>
                                </div>
                            </div>

                        </div>
                    </div>
                `;
                grid.appendChild(col);

                // Initialize tooltips
                const cardTooltips = col.querySelectorAll('[data-bs-toggle="tooltip"]');
                [...cardTooltips].forEach(title => new bootstrap.Tooltip(title));
            });
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                const Toast = Swal.mixin({
                    toast: true,
                    position: 'bottom-end',
                    showConfirmButton: false,
                    timer: 2000,
                    timerProgressBar: false
                });
                Toast.fire({
                    icon: 'success',
                    title: 'ØªÙ… Ù†Ø³Ø® Ø±Ù‚Ù… Ø§Ù„Ø¹Ù‚Ø¯'
                });
            });
        }

        async function updateStats() {
            const contracts = await StorageManager.getContracts();
            const total = contracts.length;
            const active = contracts.filter(c => !c.isBlocked).length;

            let ajeerCount = 0;
            let loanCount = 0;

            contracts.forEach(c => {
                const type = c.contractType || 'ØªØ¹Ø§Ù‚Ø¯ Ø£Ø¬ÙŠØ±';
                if (type === 'ØªØ¹Ø§Ù‚Ø¯ Ø£Ø¬ÙŠØ±') {
                    ajeerCount++;
                } else if (type === 'Ø¥Ø¹Ø§Ø±Ø©' || type === 'ØªØ¹Ø§Ù‚Ø¯ Ø¥Ø¹Ø§Ø±Ø©' || type === 'Ø§Ø³ØªØ¹Ø§Ø±Ø©') {
                    loanCount++;
                }
            });

            // Animate numbers
            animateValue('stat-total', 0, total, 500);
            animateValue('stat-active', 0, active, 500);
            animateValue('stat-ajeer', 0, ajeerCount, 500);
            animateValue('stat-loan', 0, loanCount, 500);
        }

        function animateValue(id, start, end, duration) {
            const obj = document.getElementById(id);
            const range = end - start;
            const startTime = performance.now();

            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const easeOut = 1 - Math.pow(1 - progress, 3);
                obj.textContent = Math.floor(start + range * easeOut);

                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }
            requestAnimationFrame(update);
        }

        async function toggleBlock(id, currentBlockState) {
            const action = currentBlockState ? 'ØªÙØ¹ÙŠÙ„' : 'Ø¥ÙŠÙ‚Ø§Ù';

            try {
                const contract = await StorageManager.getContract(id);
                contract.isBlocked = !currentBlockState;

                await StorageManager.saveContract(contract);
                await loadDashboard();

                Swal.fire({
                    icon: 'success',
                    title: `ØªÙ… ${action} Ø§Ù„Ø¹Ù‚Ø¯`,
                    showConfirmButton: false,
                    timer: 1500
                });
            } catch (error) {
                Swal.fire('Ø®Ø·Ø£', 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù‚Ø¯', 'error');
            }
        }

        async function confirmDelete(id) {
            Swal.fire({
                title: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',
                text: "Ù„Ù† ØªØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#ef4444',
                cancelButtonColor: '#64748b',
                confirmButtonText: '<i class="bi bi-trash ms-1"></i> Ù†Ø¹Ù…ØŒ Ø­Ø°Ù',
                cancelButtonText: '<i class="bi bi-x-lg ms-1"></i> Ø¥Ù„ØºØ§Ø¡'
            }).then(async (result) => {
                if (result.isConfirmed) {
                    await StorageManager.deleteContract(id);
                    await loadDashboard();
                    Swal.fire({
                        icon: 'success',
                        title: 'ØªÙ… Ø§Ù„Ø­Ø°Ù!',
                        text: 'ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ù‚Ø¯ Ø¨Ù†Ø¬Ø§Ø­.',
                        showConfirmButton: false,
                        timer: 1500
                    });
                }
            });
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>